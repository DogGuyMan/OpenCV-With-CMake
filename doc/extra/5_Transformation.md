##  Transformation

---

### Projective Transformation

평면간의 변환은 3x3 행렬 $H$ 선형 변환이다.
외곡된 영상을 보정하는데 사용하기도 한다.

두가지 이미지를 가지고 있으면 특히
4쌍으로 대응되는 점들만 있으면
선형 변환식을 유도할 수 있다.

마지막 행이 드디어 0 0 1이 아니게 된다.
완전 외곡단, 직선은 직선으로 유지되는것

---

#### 1). 아이소메트리/유클리디안/시뮬러리티 트랜스포메이션

##### ① 회전 변환

$
R =
\begin{pmatrix}
cos(𝜃)  &   -sin(𝜃) &  0 \\
sin(𝜃)  &   cos(𝜃)  &  0 \\
0       &   0       &  1 \\
\end{pmatrix}
$

##### ② 크기 변환

$
S =
\begin{pmatrix}
a & 0 & a \\
0 & b & b \\
0 & 0 & 1 \\
\end{pmatrix}
$

##### ③ 이동 변환

$
T =
\begin{pmatrix}
1 & 0 & a \\
0 & 1 & b \\
0 & 0 & 1 \\
\end{pmatrix}
$

#### 2). 아핀 트랜스포메이션

##### 아핀 변환이란.

이를 통해 이동 변환을 행렬 곱으로도 표현이 가능하다. 일명, 선형변환으로도 이동변환을 가능하게 하

* 회전화 디폼 대신 평행선은 유지.
$0^{T}$ 가 의미하는 것

```
점 + 벡터 = 점
1 + 0 = 1

점 - 점 = 벡터
1 - 1 = 0

벡터 + 벡터 = 벡터
0 + 0 = 0
```


##### ① 디포메이션 변환
##### ② Shear 변환

마지막 행은 0,0,0... 1로 끝난다.

현 차원에서 밀기 변환(Sheer)을 수행하면
이런것은 한차원 낮은 공간이 이동한다는 점을 이해하면 된다.

##### 아핀 변환의 분리 해석.

아핀 변환을 통해 생성된 열 (3x3 -> 3x4)을 나눠서 생각하면.
1. $L : 3x3 행렬$ / $t : 3D 열벡터$ $[L | t]$
    1. L은 이동변환 요소가 포함되지 않는다.
    2. t는 이동 변환 요소 뿐만 아니라 선형 변환 요소도 포함한다.


#### 4). 아핀 변환 리커버리 & 메트릭 프로퍼티 투 이미지

* 평행한 것들로 추정되거나 원래 그랬지만 프로젝티브에 의해 외곡된 것을
다시 평행하도록 변경하게 한다.

* Line at infinity and orthogonality

##### 변환 행렬의 역행렬

<img src="./image/2024-06-08-03-26-24.png">

---

## 참조
* [홍정모 아핀변환](https://www.youtube.com/watch?v=bLWiFQ_1GtU)
* [아핀변환 분리해석](https://www.youtube.com/watch?v=bLWiFQ_1GtU)
* [아핀 변환에서 이동 변환 시각적인 해석](https://www.youtube.com/watch?v=nY6cZOY3VOs)


https://3dmpengines.tistory.com/761?category=512287
https://www.youtube.com/watch?v=DSmXIYkp024
